\documentclass{article}
\usepackage{fancyvrb,hyperref,listings,verbatim}

\newcommand{\Cpp}{C\kern-0.05em\texttt{+\kern-0.03em+}}
\newcommand{\jp}[1]{ \footnote{#1}}

\lstset{commentstyle=\textit,flexiblecolumns=true,mathescape=true}
\lstnewenvironment{erlang}
    {\lstset{language=erlang,frame=tb}}
    {}

\newcommand{\courseinfo}{ John Hughes \\ Programming Paradigms 2008 }
\newcommand{\percent}[1]{\protect \marginpar[l]{\bf [#1 points]}}
\newcommand{\mycomment}[1]{}

\newcounter{question}
\newenvironment{question}[1]{%
  \addtocounter{question}{1}%
  \paragraph{Exercise~\arabic{question}  \percent{#1}}%
}{%
  \vskip1em%
}

\let\longanswer=\comment
\let\endlonganswer=\endcomment
\newcommand{\answer}[1]{}

% Uncomment to show answers
\renewenvironment{longanswer}{\paragraph{Answer~\arabic{question}}}{}
\renewcommand{\answer}[1]{\begin{longanswer}#1\end{longanswer}}
  

\begin{document}
\title{Ex. 6: Programming Paradigms 
\\
Logic Oriented Programming --- Exercises}
\author{\courseinfo}
\date{}
\maketitle

\section{Prolog}
We advise you to use SWI-Prolog to test your solutions.
You can find it here:
\url{http://www.swi-prolog.org/}

This page will help you getting started:

\url{http://gollem.science.uva.nl/SWI-Prolog/Manual/quickstart.html}

Also, we found that version 5.6.47 was buggy, but 5.6.55 was ok.

\section{Reversibility}


Consider a predicate split/3, that splits a list of integers into two lists: one containing the positive ones (and zero), the other containing the negative ones.

\begin{verbatim}
split([3,4,-5,-1,0,4,-9],P,N)
\end{verbatim}

should return:

\begin{verbatim}
P = [3,4,0,4]
N = [-5,-1,-9].
\end{verbatim}


\begin{question}{1}
    Write the predicate split/3. Make sure that it is \emph{reversible}. That is,
    you can recover the original list if you pass it the split lists.
\end{question}    

\begin{question}{1}
    What are the lists that are returned by split/3 when used in reverse?
\end{question}


\section{Cut}

\begin{question}{1}
    Explain what the following program does:

        class(Number,positive) :- Number > 0.
        class(0,zero).
        class(Number, negative) :- Number < 0.
\answer{
\textsf{class(N,C)} relates number with their class, positive, negative or otherwise.
}
\end{question}

\begin{question}{1}
  Improve the previous program by adding green cuts.
\end{question}


\begin{question}{1}
  Improve the program split/3 by adding cuts. Don't worry about reversibility now.
\end{question}

\begin{question}{1}
  What if you try to use your new split/3 in reverse?

\answer{
  It still works OK, as long as no condition has been removed.      
}
\end{question}


\section{Negation}

You can express the negation of an expression by using cut and failure:

\begin{verbatim}
neg(Goal) :- Goal,!,fail.
neg(Goal).
\end{verbatim}

\textsf{elem} can be used to test if an element belongs to a list:

\begin{verbatim}
elem(X,[X|Xs]).                                                                                 elem(X,[Y|Xs]) :- elem(X,Xs).                                                                  
\end{verbatim}


\begin{question}{1} Using \textsf{neg} and \textsf{elem}, write a predicate
\textsf{diff(A,B,C)} such that C is a list that contains all the elements in
list A that are not elements in list B.
\begin{longanswer}
\begin{verbatim}
diff([],Ys,[]).                                                                                 diff([X|Xs],Ys,Zs)     :- elem(X,Ys),       diff(Xs,Ys,Zs).
diff([X|Xs],Ys,[X|Zs]) :- neg(elem(X,Ys)),  diff(Xs,Ys,Zs).                                    
\end{verbatim}
\end{longanswer}
\end{question}

\begin{question}{1} Rewrite the above predicate using cut directly.
\end{question}

\end{document}
